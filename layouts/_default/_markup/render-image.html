<figure>
	{{ if eq (len (findRE "\\.(gif|jpe?g|tiff|png|webp|bmp)$" .Destination 1)) 1}} <!-- Picture -->
		<img
			src="{{ .Destination | safeURL }}"
			alt="{{.Text}}"
			{{ with .Title}} title="{{ . }}"{{ end }}
		/>
	{{ else if eq (len (findRE "^spotify:(.*)" .Destination 1)) 1}} <!-- Spotify -->
		{{$temp := (split .Destination ":")}}
		<iframe
			{{ with .Title}} title="{{ . }}"{{ end }}
			src="https://open.spotify.com/embed/{{index $temp 1}}/{{index $temp 2}}"
			frameBorder="0"
			allow="encrypted-media"
			style="width: 100%; max-width:400px; height:300px; border:0;margin-left: auto;margin-right: auto;display:block;"
		></iframe>
	{{ else if eq (len (findRE "(youtube\\.com|youtu\\.?be)/.+$" .Destination 1)) 1}} <!-- Youtube -->
		{{$videoCode := (substr .Destination (add -11 (len .Destination)) 11)}}
		<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
			<iframe
				{{ with .Title}} title="{{ . }}"{{ end }}
				src="https://www.youtube.com/embed/{{$videoCode}}"
				allowfullscreen
				style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"
			></iframe>
		</div>
	{{else}}
		<div>Unknown Content</div>
	{{end}}
	<figcaption>
		{{ htmlUnescape .Text }}
	</figcaption>
</figure>